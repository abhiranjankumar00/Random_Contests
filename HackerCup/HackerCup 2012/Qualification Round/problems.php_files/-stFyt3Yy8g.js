/*1327104327,176832695*/

if (window.CavalryLogger) { CavalryLogger.start_js(["BlC9F"]); }

function HackerCupLastSubmitController(a,b){copy_properties(this,{elem:$(a),problem_id:b});this.displayDiv=DOM.find(this.elem,'span.HackerCupLastSubmit_display');Arbiter.subscribe(HackerCupConst.SUCCESSFUL_UPLOAD,this.update.bind(this));this.update();}copy_properties(HackerCupLastSubmitController.prototype,{update:function(){var a=new AsyncRequest().setURI('/hackercup/ajax/last_submission.php').setData({problem_id:this.problem_id}).send();}});
function HackerCupTimerController(b,g,f,e,c,d){copy_properties(this,{elem:$(b),time_remaining:g,refid:e,expired:c,label:d});this.started=false;var a=this._onInform.bind(this);var h=HackerCupConst.START_TIMER;Arbiter.subscribe(h,a);if(f)this.start();}copy_properties(HackerCupTimerController.prototype,{displayDiv:null,elem:null,end_time:null,expired:null,label:null,labelDiv:null,refid:null,running:null,started:null,time_remaining:null,start:function(){if(this.started)return false;this.started=true;this.end_time=new Date().getTime()+this.time_remaining*1000;this.displayDiv=DOM.find(this.elem,'div.HackerCupTimer_display');if(!this.running){if(this.label){this.labelDiv=DOM.find(this.elem,'div.HackerCupTimer_label');DOM.setContent(this.labelDiv,this.label);}this._runTimer();}this.running=true;return false;},_onInform:function(b,a){if(a.problem_id==this.refid)this.start();},_runTimer:function(){if(!this.started)return false;var c,d;var a=new Date().getTime();var f=Math.round((this.end_time-a)/1000);if(f>=0){var g=f;var e=g%60;g=parseInt(g/60,10);var b=g%60;g=parseInt(g/60,10);if(e<10)e='0'+e;if(b<10)b='0'+b;d=[];if(g)d.push(g);d.push(b);d.push(e);c=d.join(':');}else c=this.expired;DOM.setContent(this.displayDiv,c);setTimeout(this._runTimer.bind(this),1000);return false;}});